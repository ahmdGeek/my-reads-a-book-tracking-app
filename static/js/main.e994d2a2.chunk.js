(this["webpackJsonpmy-reads-a-book-tracking-app"]=this["webpackJsonpmy-reads-a-book-tracking-app"]||[]).push([[0],{28:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),s=n.n(c),o=(n(28),n(9)),i=n(2),u=n(0),l=function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsxs)("small",{children:["Full Source Code of This Project Con be found at "," ",Object(u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/ahmedalima/my-reads-a-book-tracking-app",children:"Here"})]})})},b=function(){return Object(u.jsx)("div",{className:"list-books",children:Object(u.jsx)("div",{className:"list-books-title",children:Object(u.jsx)("h1",{children:"MyReads"})})})},j=n(13),h=n(4),d=n.n(h),f=n(8),p=function(e){var t=e.book,n=e.onShelfChange,r=e.index,a=t.shelf,c=t.imageLinks,s=t.title,o=t.authors;return Object(u.jsxs)("div",{className:"book",children:[Object(u.jsxs)("div",{className:"book-top",children:[Object(u.jsx)("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:'url("'.concat(c&&c.smallThumbnail,'")')}}),Object(u.jsx)("div",{className:"book-shelf-changer",children:Object(u.jsxs)("select",{value:a||"none",onChange:function(e){return n(e,t,r)},children:[Object(u.jsx)("option",{value:"move",disabled:!0,children:"Move to..."}),Object(u.jsx)("option",{value:"currentlyReading",children:"Currently Reading"}),Object(u.jsx)("option",{value:"wantToRead",children:"Want to Read"}),Object(u.jsx)("option",{value:"read",children:"Read"}),Object(u.jsx)("option",{value:"none",children:"None"})]})})]}),Object(u.jsx)("div",{className:"book-title",children:s}),o&&o.map((function(e){return Object(u.jsx)("div",{className:"book-authors",children:e},e)}))]})},O=function(e){var t=e.title,n=e.books,r=e.onShelfChange;return Object(u.jsxs)("div",{className:"bookshelf",children:[Object(u.jsx)("h2",{className:"bookshelf-title",children:t}),Object(u.jsx)("div",{className:"bookshelf-books",children:Object(u.jsx)("ol",{className:"books-grid",children:n&&n.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)(p,{book:e,onShelfChange:r},e.id)},e.id)}))})})]})},x=n(14),k="https://reactnd-books-api.udacity.com",v=localStorage.token;v||(v=localStorage.token=Math.random().toString(36).substr(-8));var m={Accept:"application/json",Authorization:v},g=function(){return fetch("".concat(k,"/books"),{headers:m}).then((function(e){return e.json()})).then((function(e){return e.books}))},y=function(e,t){return fetch("".concat(k,"/books/").concat(e.id),{method:"PUT",headers:Object(x.a)(Object(x.a)({},m),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},N=function(e){return fetch("".concat(k,"/search"),{method:"POST",headers:Object(x.a)(Object(x.a)({},m),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},w=function(){var e=Object(f.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,n={currentlyReading:t.filter((function(e){return"currentlyReading"===e.shelf})),wantToRead:t.filter((function(e){return"wantToRead"===e.shelf})),read:t.filter((function(e){return"read"===e.shelf}))},e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(r.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useCallback)(Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)}))),[]);Object(r.useEffect)((function(){c()}),[c]);var s=Object(r.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,e.next=3,y(n,r);case 3:return e.next=5,c();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c]);return Object(u.jsxs)("div",{className:"list-books",children:[Object(u.jsx)("div",{className:"list-books-content",children:Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{title:"Currently Reading",books:n.currentlyReading||[],onShelfChange:s}),Object(u.jsx)(O,{title:"Want to Read",books:n.wantToRead||[],onShelfChange:s}),Object(u.jsx)(O,{title:"Read",books:n.read||[],onShelfChange:s})]})}),Object(u.jsx)("div",{className:"open-search",children:Object(u.jsx)(o.b,{to:"/search",children:"Add a Book"})})]})},S=n(23),R=function(){var e=Object(f.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,g();case 3:return(r=e.sent).forEach((function(e,a){t.forEach((function(t,c){t.id===e.id&&(n[c]=r[a])}))})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(j.a)(c,2),i=s[0],l=s[1];Object(r.useEffect)((function(){var e=!1;return function(){var t=Object(f.a)(d.a.mark((function t(n){var r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=14;break}return t.next=3,N(n);case 3:if(r=t.sent,e){t.next=12;break}if(!r.error){t.next=8;break}return l([]),t.abrupt("return");case 8:return t.next=10,R(r);case 10:a=t.sent,l(a);case 12:t.next=15;break;case 14:l([]);case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()(n),function(){e=!0}}),[n]);var b=Object(r.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(t.target.value||"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),h=Object(r.useCallback)(function(){var e=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,e.next=3,y(n,a);case 3:l((function(e){var t=Object(S.a)(e);return t[r].shelf=a,t}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),[]);return Object(u.jsxs)("div",{className:"search-books",children:[Object(u.jsx)("div",{className:"search-books-bar",children:Object(u.jsx)("div",{className:"search-books-input-wrapper",children:Object(u.jsx)("input",{type:"text",placeholder:"Search by title or author",onChange:b})})}),Object(u.jsx)("div",{className:"search-books-results",children:Object(u.jsx)("ol",{className:"books-grid",children:i&&i.map((function(e,t){return Object(u.jsx)(p,{book:e,onShelfChange:h,index:t},e.id)}))})}),Object(u.jsx)("div",{className:"open-search",children:Object(u.jsx)(o.b,{to:"/",children:"Back to Main Page"})})]})},F=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{}),Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",component:C}),Object(u.jsx)(i.a,{path:"/search",component:T})]}),Object(u.jsx)(l,{})]})},P=(n(36),function(){return Object(u.jsx)(o.a,{basename:"/my-reads-a-book-tracking-app",children:Object(u.jsx)(F,{})})}),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),E()}},[[37,1,2]]]);
//# sourceMappingURL=main.e994d2a2.chunk.js.map